<nav class="navbar fixed-top navbar-expand-lg navbar-dark">
  <!-- <div class="container" style="margin:0"> -->
  <a class="navbar-brand" href="index.html">
    <img src="../../assets/carecentrix-logo@2x.png" class="navbar-brand-anchor"
      style="width: 200px; clip: rect(0px,40px,45px,3px); position: absolute; background: transparent;">
    <span class="fa fa-align-right fa-xs" style="margin-left: 55px;"></span>
    <span style="vertical-align: middle; "> Lucid</span>
  </a>

  <div class="navbar-collapse collapse" id="navbarsExample07">
    <ul class="navbar-nav mr-auto" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a class="nav-link" routerLinkActive="active" [routerLink]="['/']"
          [routerLinkActiveOptions]="{ exact: true }">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLinkActive="active" [routerLink]="['/patients']">Patients</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLinkActive="active" [routerLink]="['/analytics']">Analytics</a>
      </li>
      <li class="nav-item" *ngIf="user && user.is_admin">
        <a class="nav-link" routerLinkActive="active" [routerLink]="['/admin']">Admin</a>
      </li>
    </ul>

    <ul class="navbar-nav bd-navbar-nav flex-row" *ngIf="isLoggedIn">
      <li class="nav-item align-self-center">
        <a class="nav-link custom-link mr-0" href="#">
          <span>
            <i class="far fa-user-circle"></i> {{user.first_name + ' ' + user.last_name}}
          </span>
        </a>
      </li>
      <li class="nav-item">
        <div class="dropdown">
          <button type="button" class="btn" style="background: transparent; color: white" data-toggle="dropdown">
            <i class="fa fa-1x fa-chevron-circle-down"></i>
          </button>
          <div class="arrow-up"></div>
          <div class="dropdown-menu profile-menu" style="left: -245%">
            <a class="dropdown-item" href="#" style="color: var(--purple-theme)"
              (click)="openProfile(profileModal)">Settings</a>
            <a class="dropdown-item" href="#" style="color: var(--purple-theme)" (click)="signOut()">Sign Out</a>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <ng-template #profileModal let-modal>
    <div class="modal-header p-2 bg-purple-theme align-items-center">
      <h5 class="modal-title p-2 purple text-white">Edit Profile</h5>
      <button type="button" class="close m-0 text-white" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body p-2" id="myModal" style="height: 60vh; overflow: auto;">
      <h5 class="profile-header">Update Profile Name</h5>
      <form autocomplete="off" name="changePasswordForm" class="mb-4">
        <label>First Name</label>
        <input type="text" [(ngModel)]="newUser.first_name" name="first_name" class="form-control form-control-sm" />
       
        <label>Last Name</label>
        <input type="text" [(ngModel)]="newUser.last_name" name="last_name" class="form-control form-control-sm" />
      </form>
        <hr>
        <h5 class="profile-header mt-4">Update Password</h5>

        <label>Current Password</label>
        <input type="password" class="form-control form-control-sm" name="password" [(ngModel)]="newUser.password">

        <label>New Password</label>
        <input type="password" class="form-control form-control-sm" name="newPassword" [(ngModel)]="newUser.newPassword">

        <label>Retype New Password</label>
        <input type="password" class="form-control form-control-sm" name="confPassword" [(ngModel)]="newUser.confPassword">

        <div *ngIf="isError" class="mt-2">
          <span class="text-danger">{{ errorMessage }}</span>
        </div>
      
    </div>
    <div class="modal-footer">
      <div class="p-2 m-2">
        <!-- <button type="button" class="btn close-btn p-2 px-5" (click)="modal.close('Close click')">Close</button> -->
        <button type="button" class="btn bg-purple-theme text-white mr-2" id="confirmBtn" (click)="updateProfile()">Update</button>
        <button type="button" class="btn btn-dark text-white" (click)="modal.close('Close click')">Cancel</button>
      </div>
    </div>
  </ng-template>
  <!-- </div> -->
</nav>